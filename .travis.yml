language: java
jdk: oraclejdk8

services:
  postgresql

before_script:
  - psql -c 'create database uatransport;' -U postgres

addons:
  postgresql: "9.6"

before_install:
- jdk_switcher use oraclejdk8

install:
  mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V

script:
  mvn clean install

cache:
  directories:
  - $HOME/.m2

branches:
  only:
    deploy

notifications:
  email:
    s.turchynskyi@gmail.com